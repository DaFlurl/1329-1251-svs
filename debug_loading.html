<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Data Loading</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .log { background: #f5f5f5; padding: 10px; margin: 10px 0; border-left: 4px solid #007cba; }
        .error { border-left-color: #d32f2f; background: #ffebee; }
        .success { border-left-color: #388e3c; background: #e8f5e8; }
    </style>
</head>
<body>
    <h1>Debug: Data Loading</h1>
    <div id="logs"></div>
    
    <script>
        const logs = document.getElementById('logs');
        
        function log(message, type = 'log') {
            const div = document.createElement('div');
            div.className = `log ${type}`;
            div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logs.appendChild(div);
            console.log(message);
        }
        
        async function testDataLoading() {
            log('Starting data loading test...');
            
            const testFiles = [
                'Monday, 24 November 2025 1329+1251 v 683+665.json',
                'Sunday, 16 November 2025 1329+1251 v 3144363.json',
                'monday_data.json',
                'scoreboard-data.json'
            ];
            
            for (const filename of testFiles) {
                log(`Testing file: ${filename}`);
                
                try {
                    const url = `data/${encodeURIComponent(filename)}`;
                    log(`Fetching: ${url}`);
                    
                    const response = await fetch(url);
                    log(`Response status: ${response.status} ${response.statusText}`);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    
                    const data = await response.json();
                    log(`✅ Success! Keys: ${Object.keys(data).join(', ')}`, 'success');
                    
                    // Check for all monarchs
                    if (data['all monarchs']) {
                        log(`✅ Found all monarchs: ${data['all monarchs'].length} entries`, 'success');
                    } else {
                        log(`❌ No 'all monarchs' section found`, 'error');
                    }
                    
                } catch (error) {
                    log(`❌ Error loading ${filename}: ${error.message}`, 'error');
                }
                
                log('---');
            }
        }
        
        // Run test
        testDataLoading();
    </script>
</body>
</html>
ğŸ“ Prompt / Aufgabenbeschreibung
Ziel:
â€¢ 	Eine bestehende  Datei wird hochgeladen.
â€¢ 	Die Daten sollen automatisch auf deiner GitHubâ€‘Webseite aktualisiert werden.
â€¢ 	Die alte Datei wird als History File gespeichert.
â€¢ 	Ãœber ein Dropdownâ€‘MenÃ¼ auf der Webseite kÃ¶nnen Nutzer alte Versionen wieder laden.
â€¢ 	Ein Pythonâ€‘Script Ã¼bernimmt die Aktualisierung.



"""
Prompt: 
Nimm meine hochgeladene XLSX-Datei und aktualisiere die Daten auf meiner GitHub-Webseite.
Die vorhandene Datei, die ersetzt wird, speichere als History-File mit Zeitstempel.
Erstelle auf der Webseite ein Dropdown-MenÃ¼, Ã¼ber das man alte Versionen laden kann.
Das Python-Script soll die Aktualisierung automatisieren.
"""

import os
import shutil
import datetime
import pandas as pd

# 1. Neue Datei laden
new_file = "data.xlsx"   # <- hier deine neue Datei
web_data_dir = "./web_data"
history_dir = "./web_data/history"

os.makedirs(history_dir, exist_ok=True)

# 2. Alte Datei sichern
if os.path.exists(os.path.join(web_data_dir, "data.xlsx")):
    timestamp = datetime.datetime.now().strftime("%Y%m%d_%H%M%S")
    shutil.move(os.path.join(web_data_dir, "data.xlsx"),
                os.path.join(history_dir, f"data_{timestamp}.xlsx"))

# 3. Neue Datei kopieren
shutil.copy(new_file, os.path.join(web_data_dir, "data.xlsx"))

# 4. Dropdown-Liste generieren (HTML)
history_files = sorted(os.listdir(history_dir), reverse=True)
dropdown_html = "<select id='history'>\n"
for f in history_files:
    dropdown_html += f"<option value='{f}'>{f}</option>\n"
dropdown_html += "</select>"

with open(os.path.join(web_data_dir, "dropdown.html"), "w") as f:
    f.write(dropdown_html)

print("Update abgeschlossen. Webseite kann neu geladen werden.")






ğŸŒ Webseiteâ€‘Integration
â€¢ 	Frontend (HTML/JS):
â€¢ 	Binde  ein.
â€¢ 	Mit JavaScript kannst du beim AuswÃ¤hlen einer alten Datei diese wieder laden.
â€¢ 	Backend (GitHub Pages):
â€¢ 	Die Dateien liegen im Repo.
â€¢ 	Nach jedem Update commit/push aus dem Pythonâ€‘Script.

ğŸš€ Workflow
1. 	Neue  Datei lokal speichern.
2. 	Pythonâ€‘Script ausfÃ¼hren â†’ ersetzt Datei, legt History an, aktualisiert Dropdown.
3. 	GitHub Push â†’ Webseite aktualisiert sich.
4. 	Nutzer kann Ã¼ber Dropdown alte Versionen auswÃ¤hlen.



